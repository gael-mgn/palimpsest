<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Page avec intro animée (in-flow, no-scroll, centré)</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="https://cdn.tailwindcss.com"></script>

    <script src="../js/main.js"></script>


  <link rel="stylesheet" href="../style/main.css">

  <script>
        // détection basique du mobile
    const isMobile = window.innerWidth <= 768;

  </script>

  <style>

    html.no-scroll, body.no-scroll{
      height:100vh;
      overflow:hidden;
      touch-action:none;
    }

    /* ---------- Intro ---------- */
    .intro{
      position:fixed;
      inset:0;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:8px;
      background:transparent;
      z-index:60;
      pointer-events:none;
      transition:height .7s cubic-bezier(.16,.84,.44,1), transform .45s ease, opacity .4s ease;
      will-change:height, transform, opacity;
      padding:2rem;
      text-align:center;

     background: url('../img/toile.jpg') no-repeat center center;
     background-size: cover;
    }
    .intro--collapse{ height:40vh; }
    .intro--inflow{
      position:relative;
      inset:auto;
      height:40vh;
      width:100%;
      z-index:10;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:8px;
      margin-top: var(--header-height, 0px);
      transition: margin-top .35s ease, height .2s ease, padding .2s ease;
      pointer-events:auto;
      padding:2rem 1.25rem;
    }

    .intro-title{
      font-weight:800;
      font-size:clamp(3rem, 7.2vw, 6rem);
      transform-origin:center center;
      opacity:0;
      animation:introPop 1900ms cubic-bezier(.16,.84,.44,1) forwards;
      will-change:transform, opacity;
      margin:0;
      background: url('../img/image2.png') no-repeat center center;
      background-size: cover;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }
    @keyframes introPop{
      0%{opacity:0; transform:scale(.8) translateY(8px) rotate(.5deg); filter:blur(6px)}
      40%{opacity:1; transform:scale(1.06) translateY(-6px) rotate(-.3deg); filter:blur(0)}
      70%{transform:scale(.98) translateY(0)}
      100%{opacity:1; transform:scale(1) translateY(0)}
    }





    /* Hide main initially and push it */
    main{
      margin-top:calc(100vh + 2rem);
      opacity:0;
      transform:translateY(12px);
      transition:margin-top .6s cubic-bezier(.2,.9,.25,1), opacity .6s ease .08s, transform .6s ease .08s;
      pointer-events:none;
    }
    body.show-content main{
      margin-top:calc(40vh + 3.5rem);
      opacity:1;
      transform:none;
      pointer-events:auto;
    }
    body.intro-in-flow main{ margin-top:0rem; }


  </style>
</head>
<body class="no-scroll">

  <!-- Intro -->
  <section class="intro" aria-hidden="false">
      <h1 class="intro-title">Palimpseste - Athènes</h1>
  </section>

  <!-- Header -->
  <header role="banner">

    <!-- Desktop nav -->
    <nav class="primary" role="navigation" aria-label="Navigation principale">
      <a href="index.html">Accueil</a>
      <a href="directory.html">Artistes</a>
      <a href="#">Athènes</a>
      <a href="#">Contact</a>
    </nav>

    <!-- Mobile controls: hamburger -->
    <div class="mobile-controls" style="display:flex;align-items:center;">
      <button class="nav-toggle" id="navToggle" aria-controls="mobileNav" aria-expanded="false" aria-label="Ouvrir le menu">
        <span class="bar" aria-hidden="true"></span>
        <span class="bar" aria-hidden="true"></span>
        <span class="bar" aria-hidden="true"></span>
      </button>
    </div>

    <!-- Mobile nav panel (duplicate links for mobile) -->
    <div id="mobileNav" class="mobile-nav" aria-hidden="true">
      <div class="mobile-links" role="menu" aria-label="Menu principal">
        <a href="index.html" role="menuitem">Accueil</a>
        <a href="directory.html" role="menuitem">Artistes</a>
        <a href="#" role="menuitem">Projets</a>
        <a href="#" role="menuitem">Contact</a>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main role="main">
    

<style>

  .article {
    background-color: white;
    max-width: 500px;
  }
</style>



  <style>
    
    .cta-section {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 4rem 8%;
      overflow: hidden;
    }

    /* Contenu */
    .cta-content {
      position: relative;
      z-index: 2;
      width: 90%;
      max-width: 1100px;
      margin: auto;
    }


    .cta-content h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .cta-content p {
      /*margin-bottom: 2rem;*/
    }


    /* Fond image : état initial (invisible) */
    .cta-section::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("../img/image.png") center/cover no-repeat;
      opacity: 0;
      clip-path: inset(0 50% 0 50%); /* fermé au centre */
      z-index: 1;
    }

    /* Quand on ajoute .animate-bg → animation desktop */
    .cta-section.animate-bg::before {
      animation: reveal-horizontal 1.0s ease forwards;
    }

    @keyframes reveal-horizontal {
      0% {
        clip-path: inset(0 50% 0 50%);
        opacity: 0;
      }
      100% {
        clip-path: inset(0 0 0 0);
        opacity: 1;
      }
    }

    /* Mobile */
    @media (max-width: 768px) {
      .cta-section {
        padding: 2rem;
      }
    }
  </style>
  <section class="cta-section" id="cta">
    <div class="cta-content">


    </div>
  </section>
  <script>
    function startAnimation() {
      document.getElementById("cta").classList.add("animate-bg");
    }
  </script>











  <style>

    :root{
      --tile:#fbfbfb;            /* couleur des carreaux */
      --grout:#d7d7d7;           /* couleur des joints */
      --letter:#123238;         /* couleur des lettres (sombre, vert-bleu) */
      --max-font:28px;
    }

    /* wrapper de la section */
    .concorde-section{
      position:relative;
      /*min-height:60vh;*/
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      /* léger motif de carrelage qui rappelle la station */
      background-image:
        linear-gradient(to right, var(--grout) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grout) 1px, transparent 1px);
      background-size:80px 80px; /* taille des "carreaux" */
    }

    /* SVG qui contient la grille de lettres, occupe tout le conteneur */
    .letters-svg{
      position:absolute;inset:0;width:100%;height:100%;display:block;
      pointer-events:none; /* la grille est décorative */
    }

    /* style par défaut des lettres */
    .letters-svg text.letter{
      fill:var(--letter);
      fill-opacity:.9;
      font-family:'Cormorant Garamond', 'Georgia', 'Times', serif;
      font-weight:600;
      font-size:var(--max-font);
      dominant-baseline:middle;
      text-anchor:middle;
      transform-origin:center;
      opacity:0.95;
      /* animation douce où les lettres flottent subtilement */
      animation:float 6s ease-in-out infinite;
    }

    @keyframes float{
      0%{transform:translateY(0) rotate(0) scale(1); opacity:0.95}
      25%{transform:translateY(-6px) rotate(-1.2deg) scale(1.02);}
      50%{transform:translateY(0) rotate(0) scale(1); opacity:0.85}
      75%{transform:translateY(6px) rotate(1.2deg) scale(.99);}
      100%{transform:translateY(0) rotate(0) scale(1); opacity:0.95}
    }

    /* variations pour que la grille ne soit pas trop mécanique */
    .letters-svg text.small{font-size:0.72em; fill-opacity:.75}
    .letters-svg text.light{fill-opacity:.6}
    .letters-svg text.ghost{fill-opacity:.35}

    /* concorde-overlay contenant le texte principal */
    .concorde-overlay{
      position:relative; /* au-dessus du SVG */
      z-index:3;
      width:100%;
      padding:48px 48px;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:flex-start;
      justify-content:center;
      box-sizing:border-box;

      border-radius: 8px;
      backdrop-filter: blur(1px);
      background:rgba(255,255,255,0.6);
    }

    .concorde-overlay .content{
      max-width: 1100px;
      margin: auto;
      position:relative;z-index:4; color: #0A1236;
    }

    .concorde-overlay h1{
      font-size:clamp(1.6rem, 3.8vw, 3.2rem);letter-spacing:1px;
        font-family: 'Playfair Display', serif;

      color:#0A1236;
    }
    .concorde-overlay p{font-size:clamp(.95rem, 1.7vw, 1.1rem);opacity:.95;/*max-width:55ch*/}

    /* petits ajustements responsive */
    @media (max-width:640px){
      :root{--max-font:20px}
      .concorde-section{background-size:48px 48px}
      .concorde-overlay{padding:28px}
    }

  </style>
<section class="concorde-section" aria-label="Bannière style Concorde avec grille animée de lettres">
  <!-- SVG dynamique créé par JS -->
  <svg class="letters-svg" preserveAspectRatio="none" aria-hidden="true"></svg>

  <!-- concorde-overlay semi-transparente avec texte par-dessus la grille -->
  <div class="concorde-overlay" role="region" aria-label="Texte d'accroche">
    <div class="backdrop" aria-hidden="true"></div>
    <div class="content">
      <h2 class="title">Chaque ville est un manuscrit sans fin, écrit, effacé et réinscrit par celles et ceux qui l’habitent.</h2>
      <p>Palimpseste Urbain est un projet artistique collaboratif qui relie habitants, artistes et voyageurs autour d’une archive vivante des métropoles.<br>
Mémoire, présent et futur s’y superposent comme des strates d’un même récit.<br>
Photographies, récits, sons, graffitis, collages et visions poétiques viennent tisser une cartographie sensible, collective et évolutive.</p>
<style>
  #intention {
    border: solid 1px #0A1236;
  }
  #intention:hover {
    border: solid 1px white;
    color: white;
    background-color: #0A1236;
  }
</style>
<a href="#services" class="btn" role="button" id="intention">En savoir plus</a>
    </div>
  </div>
</section>
<script>
(() => {
  const svg = document.querySelector('.letters-svg');
  const str = `Cette collection accueille des textes qui explorent les formes poétiques actuelles,
    qu’elles soient intimes, politiques, sociales ou expérimentales. La poésie y est envisagée
    comme un laboratoire de langage et un miroir sensible du monde contemporain.`;
  const pool = str.replace(/[,. '’]/g, '').toUpperCase();
  const MAX_JITTER = 6;
  const clamp = (v, a, b) => Math.min(b, Math.max(a, v));

  
  // état
  let paused = false;
  let pendingResize = false;
  let lastSize = { w: 0, h: 0 };
  let resizeId = 0;
  let letterNodes = [];

  function build(force = false) {
    if (paused && !force) return;

    const w = Math.max(300, svg.clientWidth || window.innerWidth);
    const h = Math.max(200, svg.clientHeight || window.innerHeight);

    if (!force && letterNodes.length && lastSize.w === w && lastSize.h === h) {
      return;
    }

    lastSize = { w, h };
    const cellSize = Math.max(44, Math.min(88, Math.floor(Math.min(w, h) / 12)));
    const cols = Math.max(2, Math.ceil(w / cellSize));
    const rows = Math.max(2, Math.ceil(h / cellSize));
    const total = cols * rows;

    if (letterNodes.length !== total) {
      svg.replaceChildren();
      letterNodes = [];
      svg.setAttribute('viewBox', `0 0 ${w} ${h}`);
      svg.setAttribute('width', w);
      svg.setAttribute('height', h);

      const frag = document.createDocumentFragment();
      let li = 0;
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const xBase = (cols === 1) ? w / 2 : (c * (w / (cols - 1)));
          const yBase = (rows === 1) ? h / 2 : (r * (h / (rows - 1)));
          const x = clamp(Math.round(xBase + (Math.random() * 2 - 1) * MAX_JITTER), 0, w);
          const y = clamp(Math.round(yBase + (Math.random() * 2 - 1) * MAX_JITTER), 0, h);

          const ch = pool[li % pool.length] || ' ';
          li++;

          const t = document.createElementNS('http://www.w3.org/2000/svg', 'text');
          t.setAttribute('x', x);
          t.setAttribute('y', y);

          const classes = ['letter'];
          if (Math.random() < 0.12) classes.push('small');
          if (Math.random() < 0.25) classes.push('light');
          if (Math.random() < 0.08) classes.push('ghost');
          t.setAttribute('class', classes.join(' '));

          t.textContent = ch;

          // Sur desktop : animations actives
          if (!isMobile) {
            t.style.animationDelay = `${(Math.random() * 6).toFixed(2)}s`;
            t.style.animationDuration = `${(5 + Math.random() * 6).toFixed(2)}s`;
          } else {
            // Sur mobile : pas d’animation
            t.style.animation = 'none';
          }

          frag.appendChild(t);
          letterNodes.push(t);
        }
      }
      svg.appendChild(frag);
    } else {
      svg.setAttribute('viewBox', `0 0 ${w} ${h}`);
      svg.setAttribute('width', w);
      svg.setAttribute('height', h);
    }

    if (!paused && !isMobile) setAnimationState('running');
  }

  function rebuild() {
    cancelAnimationFrame(resizeId);
    resizeId = requestAnimationFrame(() => build());
  }

  function setAnimationState(state) {
    for (const n of letterNodes) {
      n.style.animationPlayState = state;
    }
  }

  window.pauseLetters = () => {
    if (paused) return;
    paused = true;
    setAnimationState('paused');
    pendingResize = false;
    cancelAnimationFrame(resizeId);
  };

  window.resumeLetters = () => {
    if (!paused) return;
    paused = false;
    if (pendingResize) {
      pendingResize = false;
      build(true);
    } else {
      setAnimationState('running');
    }
  };

  window.addEventListener('resize', () => {
    const w = Math.max(300, svg.clientWidth || window.innerWidth);
    const h = Math.max(200, svg.clientHeight || window.innerHeight);

    if (paused) {
      if (w !== lastSize.w || h !== lastSize.h) pendingResize = true;
      return;
    }
    rebuild();
  });

  // build initial
  build();

  // si mobile : désactive tout mouvement
  if (isMobile) {
    window.pauseLetters();
  }

})();

</script>










<style>
  
  :root{
  /* palette principale (thème clair) */
  --palimpsest-accent: #749DA3;           /* couleur demandée — teinte principale */
  --palimpsest-accent-strong: #5b8a8f;    /* variante légèrement plus sombre */
  --bg-0: #ffffff;             /* page principale */
  --bg-1: #f4fbfb;             /* légère nuance pour gradient */
  --artCard: #ffffff;             /* fond des cartes */
  --muted: #6b7b7c;            /* texte secondaire */
  --text: #0f2a2b;             /* texte principal sombre */
  --border: rgba(15,42,43,0.06);
  --gap: 1rem; --radius: 12px; --artCard-w: 320px;
  --easing: cubic-bezier(.22,.9,.26,1);
  --fade-dur: 480ms; --move-dur: 600ms;
  --glass: rgba(116,157,163,0.08);
}

.art {
  text-align: center;
  padding-bottom: 2rem;
  padding-top: 2rem;
  /*background: linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);*/

max-width: 1100px;
margin: auto;
}

/* header */
/* corrige le header et centre horizontalement les contrôles */
.art-header {
  display: flex;            /* remplacement de display:column (invalide) */
  flex-direction: column;
  align-items: center;      /* centre horizontalement tout le contenu du header */
  gap: 0.5rem;
}

/* centre les 3 boutons au milieu */
.controls{
  display:flex;
  justify-content:center;   /* <-- centre les éléments enfants horizontalement */
  gap:.5rem;
  align-items:center;
  width:100%;               /* s'assure qu'il prenne toute la largeur disponible */
  margin-bottom:1rem;
}
.artSection-title{color:var(--palimpsest-accent);}
p.lead{margin:0;color:var(--muted);font-size:.95rem;margin-bottom:1rem}

/* controls */
.timeline{
  display:flex;gap:.25rem;
  background: rgba(116,157,163,0.06);
  padding:.35rem;border-radius:999px;
  border:1px solid var(--border);
}
.timeline button{
  background:transparent;border:0;padding:.45rem .65rem;border-radius:999px;
  color:var(--muted);cursor:pointer;font-weight:600;
  transition: background .18s, color .18s, transform .12s;
}
.timeline button:hover{transform:translateY(-2px)}
.timeline button[aria-pressed="true"]{
  background: linear-gradient(180deg, var(--palimpsest-accent) 0%, var(--palimpsest-accent-strong) 100%);
  color: #fff;
  box-shadow: 0 6px 18px rgba(116,157,163,0.12);
}

/* grid */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--artCard-w),1fr));gap:var(--gap)}

/* artCard (light style) */
.artCard{
  background: linear-gradient(180deg, rgba(11,18,20,0.02), rgba(11,18,20,0.01));
  /* we keep a subtly textured overlay but use white base */
  background-color: var(--artCard);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow: 0 8px 24px rgba(15,42,43,0.06);
  display:flex;flex-direction:column;min-height:220px;
  border: 1px solid var(--border);
  transition: transform .22s, box-shadow .22s;
}
.artCard:focus-within,.artCard:hover{transform:translateY(-6px); box-shadow: 0 12px 36px rgba(15,42,43,0.09);}

/* media */
.artCard-media{
  position:relative;aspect-ratio:16/9;background: linear-gradient(180deg, rgba(116,157,163,0.05), rgba(116,157,163,0.02));
  display:flex;align-items:center;justify-content:center;overflow:hidden;
  border-bottom:1px solid rgba(15,42,43,0.03);
}

/* temporal layers: keep animations but lighter */
.temporal{
  position:absolute;inset:0;padding:1rem;display:block;pointer-events:none;
  opacity:0;transform:translateY(12px) scale(.995);
  transition:opacity var(--fade-dur) var(--easing), transform var(--move-dur) var(--easing);
  will-change:opacity,transform;
}
.temporal img, .temporal video{width:100%;height:100%;object-fit:cover;border-radius:8px}
.temporal .text{
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95));
  height:100%;display:flex;align-items:center;justify-content:center;padding:1rem;border-radius:8px;color:var(--muted);
  box-shadow: 0 4px 12px rgba(15,42,43,0.04);
}

/* visible temporal layer */
.artCard[data-tempo="past"] .temporal[data-tempo="past"],
.artCard[data-tempo="present"] .temporal[data-tempo="present"],
.artCard[data-tempo="future"] .temporal[data-tempo="future"]{
  opacity:1;transform:none;pointer-events:auto;z-index:2
}

/* outgoing/entering */
.temporal.leaving{opacity:0;transform:translateY(-6px) scale(.99);z-index:1}
.temporal.entering{opacity:1;transform:none;z-index:3}

/* flip variant */
.artCard.is-flipping{perspective:900px}
.artCard.is-flipping .temporal{transform-origin:50% 50%}
.artCard.is-flipping .temporal.entering{transform:rotateX(0deg) translateZ(0)}
.artCard.is-flipping .temporal.leaving{transform:rotateX(12deg) translateZ(-40px);opacity:0}

/* meta */
/* footer / meta: colonne centrée */
.meta{
  padding:.8rem 1rem;
  display:flex;            /* corrigé : display:flex au lieu de display:column */
  flex-direction:column;
  align-items:center;      /* centre horizontalement le contenu (contrôles + info) */
  gap:.5rem;
}

/* centre les contrôles locaux et limite leur largeur pour rester élégant */
.artCard-controls{
  display:flex;
  justify-content:center;  /* CENTRE les 3 boutons horizontalement */
  gap:.35rem;
  width:100%;
  max-width:260px;         /* limite la largeur du groupe (optionnel) */
}

/* conserve le style des boutons mais évite qu'ils s'étirent */
.artCard-controls button{
  flex: 0 0 auto;          /* empêche l'étirement */
  padding:.45rem .65rem;
  border-radius:8px;
}
.meta .info{display:flex;flex-direction:column}
.meta .art-title{font-weight:700;color:var(--text);margin-top: .5rem}
.meta .sub{font-size:.85rem;color:var(--muted)}

/* artCard controls */
.artCard-controls button{
  background:transparent;border:1px solid rgba(15,42,43,0.04);
  padding:.35rem .5rem;border-radius:8px;color:var(--muted);cursor:pointer;
  transition: background .16s, color .16s, border-color .16s;
}
.artCard-controls button[aria-pressed="true"]{
  background: var(--palimpsest-accent);
  color:#fff;border-color:transparent;
}

/* small screens */
@media (max-width:540px){:root{--artCard-w:100%}}

/* placeholders */
.placeholder{font-size:.95rem;color:var(--muted);text-align:center}

/* Accessibility focus */
button:focus{outline:3px solid rgba(116,157,163,0.18); outline-offset:2px}

</style>

  <section class="art">
  <div class="art-header">
    <div>
      <h2 class="artSection-title title">Palimpsestes artistiques</h2>
      <p class="lead">Chaque œuvre contient 3 temporalités — passé / présent / futur. Cliquez pour naviguer globalement ou par œuvre.</p>
    </div>
    <div class="controls">
      <nav class="timeline" role="tablist" aria-label="Choisir la temporalité globale">
        <button data-timeline="past" aria-pressed="false">Passé</button>
        <button data-timeline="present" aria-pressed="true">Présent</button>
        <button data-timeline="future" aria-pressed="false">Futur</button>
      </nav>
    </div>
  </div>

  <div class="grid" id="grid">

    <!-- artCard 1: Photo (past) / Photo (present) / Texte (future) -->
    <article class="artCard" tabindex="0" data-tempo="present" aria-label="Palimpseste 1">
      <div class="artCard-media">
        <div class="temporal" data-tempo="past">
          <!-- small svg data-uri placeholder image representing past -->
          <img alt="Photographie ancienne" src='../img/memoire.png'>
        </div>
        <div class="temporal" data-tempo="present">
          <img alt="Photographie actuelle" src='../img/present.png'>
        </div>
        <div class="temporal" data-tempo="future">
          <div class="text">
            <div>
              <h3 style="margin:0;color:#fff">Hypothèse future</h3>
              <p class="placeholder">Un court texte spéculatif décrivant une possible transformation de l'œuvre.</p>
            </div>
          </div>
        </div>
      </div>
      <footer class="meta">
        <div class="artCard-controls" role="tablist" aria-label="Temporalité par œuvre">
          <button data-local="past" aria-pressed="false" title="Passé">Passé</button>
          <button data-local="present" aria-pressed="true" title="Présent">Présent</button>
          <button data-local="future" aria-pressed="false" title="Futur">Futur</button>
        </div>
        <div class="info">
          <div class="art-title">Palimpseste — Façade</div>
          <div class="sub">Auteur • 2024</div>
        </div>
      </footer>
    </article>

    <!-- artCard 2: Vidéo / Photo / Audio -->
    <article class="artCard" tabindex="0" data-tempo="present" aria-label="Palimpseste 2">
      <div class="artCard-media">
        <div class="temporal" data-tempo="past">
          <div class="text"><div><h3 style="margin:0;color:#fff">Vidéo — archive</h3><p class="placeholder">Remplacer par une vidéo d'archive (utilisez data-src pour lazy-load).</p></div></div>
        </div>
        <div class="temporal" data-tempo="present">
          <img alt="Capture vidéo actuelle" src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="675"><rect width="100%" height="100%" fill="%23101420"/><text x="50%" y="50%" font-size="36" fill="%23ffffff" text-anchor="middle" dominant-baseline="middle">Clip — Présent</text></svg>'>
        </div>
        <div class="temporal" data-tempo="future">
          <div class="text"><div><h3 style="margin:0;color:#fff">Audio — avenir</h3><p class="placeholder">Bruitages, composition sonore projetée.</p></div></div>
        </div>
      </div>
      <footer class="meta">
        <div class="artCard-controls" role="tablist" aria-label="Temporalité par œuvre">
          <button data-local="past" aria-pressed="false">Passé</button>
          <button data-local="present" aria-pressed="true">Présent</button>
          <button data-local="future" aria-pressed="false">Futur</button>
        </div>
        <div class="info">
          <div class="art-title">Palimpseste — Son/Images</div>
          <div class="sub">Atelier multimédia</div>
        </div>
      </footer>
    </article>

    <!-- artCard 3: Texte / Audio / Photo -->
    <article class="artCard" tabindex="0" data-tempo="present" aria-label="Palimpseste 3">
      <div class="artCard-media">
        <div class="temporal" data-tempo="past">
          <div class="text"><blockquote style="margin:0;color:var(--muted)">"Extrait d'un journal ancien — fragment retrouvé."</blockquote></div>
        </div>
        <div class="temporal" data-tempo="present">
          <div class="text"><p class="placeholder">Performance audio en cours — remplacez par un player audio.</p></div>
        </div>
        <div class="temporal" data-tempo="future">
          <img alt="Simulation future" src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="675"><rect width="100%" height="100%" fill="%23061a2b"/><text x="50%" y="50%" font-size="36" fill="%23ffd166" text-anchor="middle" dominant-baseline="middle">Image — Futur</text></svg>'>
        </div>
      </div>
      <footer class="meta">
        <div class="artCard-controls" role="tablist" aria-label="Temporalité par œuvre">
          <button data-local="past" aria-pressed="false">Passé</button>
          <button data-local="present" aria-pressed="true">Présent</button>
          <button data-local="future" aria-pressed="false">Futur</button>
        </div>
        <div class="info">
          <div class="art-title">Palimpseste — Texte</div>
          <div class="sub">Archive // Projet</div>
        </div>
      </footer>
    </article>

  </div>
</section>

  <script>
    // Timeline controls (global)
    const timelineBtns = document.querySelectorAll('[data-timeline]');
    const artCards = Array.from(document.querySelectorAll('.artCard'));

    function animateartCardTempo(artCard, target){
      // find current visible layer
      const curLayer = artCard.querySelector('.temporal[data-tempo][style], .temporal[data-tempo]')
      const old = Array.from(artCard.querySelectorAll('.temporal')).find(l => l.dataset.tempo === artCard.getAttribute('data-tempo'));
      const next = artCard.querySelector(`.temporal[data-tempo="${target}"]`);
      if(!next) return artCard.setAttribute('data-tempo', target);

      // mark leaving and entering for CSS transitions
      if(old && old !== next){
        old.classList.remove('entering');
        old.classList.add('leaving');
      }
      next.classList.remove('leaving');
      next.classList.add('entering');

      // apply the semantic state change (this drives which layer should be considered primary)
      artCard.setAttribute('data-tempo', target);

      // temporary flip class for a bit of 3D depth, mostly on global changes
      artCard.classList.add('is-flipping');
      // cleanup after transition
      setTimeout(()=>{
        if(old) old.classList.remove('leaving');
        if(next) next.classList.remove('entering');
        artCard.classList.remove('is-flipping');
      }, 700);
    }

    function setGlobalTempo(tempo){
      artCards.forEach(c => c.setAttribute('data-tempo', tempo));
      timelineBtns.forEach(b => b.setAttribute('aria-pressed', b.dataset.timeline === tempo));
      // per-artCard controls update
      document.querySelectorAll('.artCard-controls button').forEach(btn => {
        btn.setAttribute('aria-pressed', btn.dataset.local === tempo);
      });
    }

    timelineBtns.forEach(btn => btn.addEventListener('click', ()=> setGlobalTempo(btn.dataset.timeline)));

    // Per-artCard controls (local changes should NOT affect the global controller)
    document.querySelectorAll('.artCard').forEach(artCard => {
      const controls = artCard.querySelectorAll('.artCard-controls button');
      controls.forEach(b=> b.addEventListener('click', ()=>{
        const t = b.dataset.local;
        // animate only this artCard
        animateartCardTempo(artCard, t);
        // toggle pressed states for this artCard only
        controls.forEach(x=> x.setAttribute('aria-pressed', x === b));
      }));

      // convenient: double-click article to cycle timeline
      artCard.addEventListener('dblclick', ()=>{
        const order = ['past','present','future'];
        const cur = artCard.getAttribute('data-tempo');
        const next = order[(order.indexOf(cur) + 1) % order.length];
        animateartCardTempo(artCard, next);
        // sync per-artCard controls
        const controls = artCard.querySelectorAll('.artCard-controls button');
        controls.forEach(x=> x.setAttribute('aria-pressed', x.dataset.local === next));
      });
    });

    // initial state
    setGlobalTempo('present');

    // OPTIONAL: lazy-load media when its temporal layer becomes visible
    const observer2 = new MutationObserver(muts => {
      muts.forEach(m => {
        if(m.type !== 'attributes' || m.attributeName !== 'data-tempo') return;
        const c = m.target;
        const visible = c.getAttribute('data-tempo');
        c.querySelectorAll('.temporal').forEach(layer => {
          if(layer.dataset.tempo === visible){
            const media = layer.querySelector('[data-src]');
            if(media && !media.src){ media.src = media.dataset.src; }
          }
        });
      });
    });
    artCards.forEach(c => observer2.observe(c, {attributes:true}));

    // keyboard shortcuts: 1(Past) 2(Present) 3(Future) globally
    window.addEventListener('keydown', e => {
      if(e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
      if(e.key === '1') setGlobalTempo('past');
      if(e.key === '2') setGlobalTempo('present');
      if(e.key === '3') setGlobalTempo('future');
    });
  </script>














    <style>
    :root{
      --section-height-lab: 60vh;
      --overlay-color-lab: rgba(111,150,156,0.7); /* teinte au-dessus de l'image pour lisibilité */
      --text-color-lab: #F2F2F2;
      --blur-radius: 4px;
      --bg-image: url('../img/lab.png'); /* remplace par ton image */
    }

    /* Section principale */
    .hero-lab {
      position: relative;
      display: grid;
      place-items: center;
      overflow: hidden;
    }

    /* Image de fond floutée via pseudo-élément */
    .hero-lab::before{
      content: "";
      position: absolute;
      inset: 0; /* top:0; right:0; bottom:0; left:0 */
      background-image: var(--bg-image);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;

      /* on agrandit légèrement pour compenser le recadrage dû au flou */
      transform: scale(1.05);

      /* le flou visuel */
      filter: blur(var(--blur-radius));
      z-index: 0;
      will-change: transform, filter;
    }

    /* Superposition (overlay) sombre pour contraster le texte */
    .hero-lab::after{
      content: "";
      position: absolute;
      inset: 0;
      background: var(--overlay-color-lab);
      z-index: 1;
    }

    /* Contenu placé au-dessus */
    .hero-lab__content{
      color: var(--text-color-lab);
      position: relative; /* au-dessus des pseudo-éléments */
      z-index: 2;
      padding: clamp(2rem, 3vw, 2.5rem) 0;

      max-width: 1100px;
      width: 90%;
    }

    .hero-lab__title{
      font-size: clamp(1.4rem, 4vw, 2.8rem);
      line-height: 1.05;
      letter-spacing: -0.02em;
      text-shadow: 0 6px 18px rgba(0,0,0,0.45);
    }

    .hero-lab__subtitle{
      margin: 0;
      font-size: clamp(.95rem, 2.2vw, 1.2rem);
      margin-inline: auto;
    }


    /* Amélioration : pour les navigateurs qui ne supportent pas filter sur pseudo (très rare) */
    @supports not (filter: blur(1px)) {
      .hero-lab::before {
        filter: none;
        transform: none;
        opacity: .65;
      }
    }

    /* Responsive: réduire la hauteur sur très petits écrans */

  </style>
    <section class="hero-lab" aria-labelledby="hero-lab-title" role="region">
      <div class="hero-lab__content">
        <h2 id="hero-lab-title" class="title">Vous souhaitez contribuer, collaborer ou soutenir le projet ?</h2>
        <p class="hero-lab__subtitle">Vous êtes <span class="bold">artiste</span>, <span class="bold">habitant·e</span>, <span class="bold">étudiant·e</span> ou simple curieux·se ?<br>
Votre voix a sa place dans Palimpseste Urbain. Chaque contribution devient une strate de la ville.</p>
        <p class="hero-lab__subtitle"><span class="bold">Institutions culturelles</span>, <span class="bold">galeries</span>, <span class="bold">collectifs</span>, <span class="bold">mécènes</span> : vos partenariats permettront de donner vie et visibilité à cette archive vivante.</p>
        <a href="#services" class="btn" role="button">Nous contacter</a>
      </div>
    </section>













  </main>

  <script src="../js/index.js"></script>




  <footer>
  <p>&copy; <span id="year"></span> — Tous droits réservés.</p>
</footer>



</body>
</html>
